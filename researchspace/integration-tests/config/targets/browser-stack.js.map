{"version":3,"file":"browser-stack.js","sourceRoot":"","sources":["browser-stack.ts"],"names":[],"mappings":";;AAuBA,gDAAgD;AAChD,4BAA4B;AAE5B,MAAM,QAAQ,GAAW,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC;AAC3D,MAAM,SAAS,GAAW,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC;AACjD,QAAA,OAAO,GAAG,CAAC,OAAe,EAAE,OAAgB,KACvD,MAAM,CAAC,MAAM,CAAC;IACZ,EAAE,EAAE,SAAS;IACb,UAAU,EAAE,IAAI;IAChB,WAAW,EAAE,OAAO;CACrB,EAAE,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;AAEjB,QAAA,GAAG,GAAG,CAAC,OAAe,KACjC,MAAM,CAAC,MAAM,CAAC;IACZ,EAAE,EAAE,KAAK;IACT,UAAU,EAAE,QAAQ;IACpB,WAAW,EAAE,OAAO;CACrB,EAAE,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;AAE9B,wBAAwB,OAAe;IACrC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAClB,KAAK,SAAS;YACZ,MAAM,CAAC;gBACL,eAAe,EAAE,IAAI;aACtB,CAAC;QACJ,KAAK,QAAQ;YACX,MAAM,CAAC;gBACL,eAAe,EAAG;oBAChB,MAAM,EAAG,CAAC,oBAAoB,CAAC;iBAChC;aACF,CAAC;IACJ,CAAC;AACH,CAAC;AAED,sBAA6B,QAAkC;IAC7D,MAAM,CAAC;QACL,IAAI,EAAE,QAAQ,CAAC,aAAa,CAAC;QAC7B,YAAY,EAAE,MAAM,IAAI,SAAS,CAAC,OAAO,EAAE;aACxC,WAAW,CAAC,0CAA0C,CAAC;aACvD,gBAAgB,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,QAAQ,EAAE;YACvC,mBAAmB,EAAE,QAAQ;YAC7B,kBAAkB,EAAE,SAAS;YAC7B,YAAY,EAAE,WAAW;SAC1B,CAAC,CAAC;aACF,KAAK,EAAE;KACX,CAAC;AACJ,CAAC;AAZD,oCAYC","sourcesContent":["/*\n * Copyright (C) 2015-2017, Â© Trustees of the British Museum\n *\n * This library is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 2.1 of the License, or (at your option) any later version.\n *\n * This library is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this library; if not, you can receive a copy\n * of the GNU Lesser General Public License from http://www.gnu.org/\n */\n\n/**\n * @author Philip Polkovnikov\n * @author Artem Kozlov <ak@metaphacts.com>\n */\n\nimport * as webdriver from 'selenium-webdriver';\nimport * as _ from 'lodash';\n\nconst username: string = process.env.BROWSERSTACK_USERNAME;\nconst accessKey: string = process.env.BROWSERSTACK_ACCESS_KEY;\nexport const windows = (browser: string, version?: string) =>\n  Object.assign({\n    os: 'WINDOWS',\n    os_version: '10',\n    browserName: browser,\n  }, browserOptions(browser));\n\nexport const osx = (browser: string) =>\n  Object.assign({\n    os: 'osx',\n    os_version: 'Sierra',\n    browserName: browser,\n  }, browserOptions(browser));\n\nfunction browserOptions(browser: string): any {\n  switch (browser) {\n  case 'Firefox':\n    return {\n      browser_version: '47' // can't use the latest version until https://github.com/SeleniumHQ/selenium/issues/3693 is resolved\n    };\n  case 'Chrome':\n    return {\n      'chromeOptions' : {\n        'args' : ['--start-fullscreen']\n      }\n    };\n  }\n}\n\nexport function browserStack(settings: {[name: string]: string}) {\n  return {\n    name: settings['browserName'],\n    createDriver: () => new webdriver.Builder()\n      .usingServer('http://hub-cloud.browserstack.com/wd/hub')\n      .withCapabilities(_.assign({}, settings, {\n        'browserstack.user': username,\n        'browserstack.key': accessKey,\n        'resolution': '1920x1080',\n      }))\n      .build()\n  };\n}\n"]}