/**
 * ResearchSpace
 * Copyright (C) 2020, Â© Trustees of the British Museum
 * Copyright (C) 2015-2019, metaphacts GmbH
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.

 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
@import '~basic-styles.scss';

$default-error-color: $color-danger;
$configuration-error-color: #6f6f6f;
$loading-error-color: $color-warning;

$remove-value-color: gray;

$form-group-margin-bottom: 15px; //bootstrap variable

.form-control {

  height: $form-height;

  color: $color-dark;
  font-size: 13px;
  font-weight: 600;
  
  background-color: transparent;

  border-radius: 0;
  border: none;
  border-bottom: 1px solid $color-form-border;

  padding: 6px 12px;

  -webkit-box-shadow: none;
  box-shadow: none;

  &::placeholder {
    color: $color-form-placeholder;
    font-weight: normal;
  }

  &:focus {
    outline: none;
    border-bottom: 1px solid $color-dark;
    -webkit-box-shadow: none;
    box-shadow: none;

    &::placeholder {
      /* Chrome, Firefox, Opera, Safari 10.1+ */
      font-weight: normal;
      opacity: 0.7; /* Firefox */
    }
  }
}

textarea.form-control {

  border: 1px solid $color-form-border;
  border-radius: 4px;
  padding: 10px 15px;

  &:focus {
    
    border: 1px solid $color-dark;
  }
}

.form-control[disabled],
.form-control[readonly],
fieldset[disabled] .form-control {

  background-color: transparent;
  opacity: 0.7;
}

.form-group {
 margin-bottom: $form-group-margin-bottom;
 width: 100%;
 height: $form-height; //changing this value, change the all group height

 .input-group {
   display: flex;
   align-items: center;
   justify-content: space-between;
   width: 100%;
   height: inherit;

   .form-control {

     height: 100%;
     display: block;
     flex-grow: 1;
     margin-right: 5px;
   }

   .input-group-addon, 
   .input-group-btn {

     width: auto;
     height: inherit;

     & div,
     & button {

       height: 100%;
     }

     .Select-input > input {

      padding: 0;
      height: 100%;
     }
   }
 }
}

.composite-input {
  width: 100%;
}

.cardinality-support {
  display: flex;
  flex-direction: column;

  &__add-value {
    &--first {
      align-self: flex-start;
    }
    &--another {
      margin-top: 5px;
      align-self: flex-end;
    }
  }

  &__single-instance + &__single-instance,
  &__group-instance + &__group-instance {
    margin-top: 10px;
  }

  &__single-instance {
    display: flex;
    align-items: flex-start;

    .select-text-field,
    .plain-text-field,
    .autocomplete-text-field,
    .date-picker-field {
      flex: 1 1 100%;
    }

    .form-control-feedback {
      position: absolute;
      top: 0;
      right: 0;
      line-height: 39px;
    }
  }

  &__single-instance > &__remove-value {
    flex: 0 0 auto;
  }

  &__group-instance {
    position: relative;
    padding-right: $padding-large-horizontal;
    border: 2px solid lightgray;
  }

  &__group-instance > &__remove-value {
    position: absolute;
    right: 5px;
    top: 5px;
    padding: 3px 6px;
  }
}

.plain-text-field {
  &__inputs {
    display: flex;
    > .form-group {
      margin-bottom: 0;
    }
  }

  &__text,
  & :first-child {
    flex-grow: 1;
  }

  textarea.plain-text-field__text {
    font-size: 15px;
    padding: 6px 10px;
    min-height: 39px;
    width: 100%;
  }

  &__language {
    flex-basis: 120px;
    > .Select-control {
      border-left: none;
    }
  }
}

.autocomplete-text-field {
  &__main-row {
    display: flex;
  }
  &__select {
    flex: auto;
  }
  &__create-button {
    margin-left: 10px;
  }
}

/* .semantic-form {
  .semantic-form-recover-notification__message {
    margin-bottom: 8px;
  }

  .semantic-form-input-decorator__description-icon {
    margin-left: 5px;
    top: -0.2em;
    color: $color-primary-100;
  }

  .semantic-form-input-decorator__header {
    margin: 20px 0 8px 0;
  }

  .semantic-form-input-decorator__label {
    text-transform: capitalize;
    font-size: 15px;
    letter-spacing: -0.1px;
  }

  .cardinality-support__add-value.cardinality-support__add-value--another {
    font-size: 13px;
    font-weight: 600;
    color: $color-dark;

    &:hover {
      text-decoration: underline;
    }
  }

  .semantic-form-input-decorator--with-header {
    padding-left: 0px !important;
    margin-top: 0;

    div > label:first-child {
      margin-left: 0px !important;
    }

    a.cardinality-support__add-value.cardinality-support__add-value--first {
      margin: 11px 0px 11px 20px;
      font-size: 13px;
      font-weight: 600;
      color: $color-dark;

      &:hover {
        text-decoration: underline;
      }
    }
  }

  .plain-text-field textarea.plain-text-field__text {
    font-size: 13px;
    border-color: $color-primary-50;
    min-height: 38px;
    padding: 9px 12px;

    &::placeholder {
      color: $color-form-placeholder;
      font-weight: normal;
    }

    &:focus {
      outline: none;

      &::placeholder {
        opacity: 0.7;
      }
    }
  }

  .autocomplete-text-field__create-button {
    margin-left: 5px;
  }

  .autocomplete-text-field__main-row .btn-default {
    border-color: $color-primary-50;

  }

  button[name='submit'] {
    background-color: $color-dark;
    color: $color-white;

    &:hover,
    &:focus {
      background-color: $color-dark;
      color: $color-white;
      border-color: $color-dark;
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.29), 0 1px 5px 0 rgba(0, 0, 0, 0.38);
    }
  }

  button[name='submit'],
  button[name='reset'],
  button[name='delete'],
  button[name='cancel'] {
    height: 38px;
    text-transform: uppercase;
    letter-spacing: 0.4px;
    border-radius: 1px;
    font-weight: 600;
    padding: 0 12px;
    margin-left: 2px;

  }

  button[name='reset'],
  button[name='delete'],
  button[name='cancel'] {

    &:hover,
    &:focus {
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 5px 0 rgba(0, 0, 0, 0.1);
    }
  }


  .semantic-form-errors__error,
  .semantic-form-validation-messages__error,
  .semantic-form-errors__error-source,
  .semantic-form-errors__error-message {
    color: $color-danger;
    font-size: 13px;
  }

  .cardinality-support__group-instance {
    padding: 0 22px;
    border: 1px solid $color-primary-50;

    & > button {
      color: #aaa;
      height: 25px;
      border: none;

      &:hover,
      &:focus {
        box-shadow: none;
        color: #717171;
      }
    }
  }
} */

.semantic-form-tree-picker-input {
  display: flex;
  &__picker {
    flex: auto;
  }
  &__create-button {
    margin-left: 10px;
  }
}

.semantic-form-errors {
  &__error-source {
    text-transform: capitalize;
    &:after {
      content: ': ';
    }
  }

  &__error {
    color: $default-error-color;

    &--configuration {
      color: $configuration-error-color;
    }
    &--loading {
      color: $loading-error-color;
    }
  }
}

.semantic-form-input-decorator {
  // See also conditinal override at
  // `platform/components/3-rd-party/ontodia/authoring/EntityForm.scss`
  &--with-header {
    margin-top: $padding-large-vertical;
    margin-bottom: $padding-large-vertical;
    padding-left: $padding-large-horizontal;
  }

  &__header {
    margin-left: -$padding-base-horizontal;
    margin-bottom: $padding-base-vertical;
  }

  &__label-required:after {
    content: '*';
  }

  &__description-icon {
    margin-left: $padding-base-horizontal;
    text-transform: capitalize;
    @include icon(question-circle);
    color: $text-muted;
  }

  &__spinner {
    left: 10px;
    color: gray;
  }
}

.semantic-form-validation-messages {
  list-style-type: none;
  padding: 0;
  margin: 0;

  &__error {
    color: $default-error-color;

    &--configuration {
      color: $configuration-error-color;
    }
    &--loading {
      color: $loading-error-color;
    }
  }
}

.semantic-form-recover-notification {
  &__discard-data,
  &__hide,
  &__discard-data:focus,
  &__hide:focus,
  &__discard-data:hover,
  &__hide:hover {
    background-color: transparent;
    border-color: transparent;
    margin-left: 10px;
    padding: 5px 8px;
  }
}

.semantic-form-checklist-input,
.semantic-form-checkbox-input {
  &_row {
    display: flex;
  }

  &__label {
    cursor: auto;
    font-size: 15px;
    font-weight: normal;
    display: inline-flex;
    flex-direction: row-reverse;
    margin-right: 20px;
  }

  &__input {
    display: none;
  }

  &__input:indeterminate ~ &__checkbox {
    background-color: darkgrey;
    border: 3px #ccc solid;
    cursor: auto;
  }

  &__radio,
  &__checkbox {
    cursor: pointer;
    position: relative;
    height: 20px;
    width: 20px;
    margin-right: 10px;
    background-color: #ccc;
  }
  &__radio {
    border-radius: 50%;
  }
  &__checkbox {
    border-radius: 0;
  }

  &__input:checked ~ &__radio,
  &__input:checked ~ &__checkbox {
    background-color: #4679c5;
  }
  &__input:checked ~ &__radio::after,
  &__input:checked ~ &__checkbox::after {
    content: '';
    position: absolute;
    top: 6px;
    left: 6px;
    width: 8px;
    height: 8px;
    background: white;
  }
  &__input:checked ~ &__checkbox::after {
    border-radius: 0;
  }
  &__input:checked ~ &__radio::after {
    border-radius: 50%;
  }
}

.form-switch {
  &__content {
    width: 100%;
    margin: 14px 0 0;
  }

  &__select {

    background-color: $color-primary-10;
    color: $color-dark;
    padding: 0.5em 2em 0.5em 1em !important; //overwrite inline
    border-color: $color-primary-50;
    font-size: 14px;
    text-transform: uppercase;
    font-weight: 600;

    min-width: max-content;   
  }
}

//Form buttons
.field-editor__delete-label-button.btn-default,
.field-editor__row .btn-default,
.SemanticTreeInput--browseButton.btn-default,
.cardinality-support__single-instance > .cardinality-support__remove-value {

  color: $color-dark--op75;
  border: none;
  border-bottom: 1px solid $color-form-border;
  font-size: 13px;
  background-color: transparent;

  min-height: $form-height;
  height: 100%;

  margin: 0;
  padding: 0 10px;

  &.active,
  &:hover,
  &:focus,
  &:visited {

    color: $color-dark;
  //  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 5px 0 rgba(0, 0, 0, 0.1);
  }
}

.SemanticTreeInput--browseButton.btn-default {

  color: $color-dark;
}

